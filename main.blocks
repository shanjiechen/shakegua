<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="5vNybA#O4Z=iV-WcFGnq">active_x</variable><variable id="7u82G([3WTC8IYcgSgI*">active_y</variable><variable id="[eBneN,HAfqvZMWHmU[P">six_yao</variable><variable id="nU^=gLSx,6LU_cgb+fWH">active_yao</variable></variables><block type="pxt-on-start" id="SxibJ$*O0wj7+:@#08Ch" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="Xt.u5/Wl$o,5lq#bfgd^" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let six_yao: number[] = []" numlines="1" declaredvars="six_yao"></mutation><next><block type="typescript_statement" id=";Jrlkv$/u0fmcrMz=@sP" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let active_yao = 0" numlines="1" declaredvars="active_yao"></mutation><next><block type="typescript_statement" id="9HPM?.83wQmxim]=HR$/" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let active_y = 0" numlines="1" declaredvars="active_y"></mutation><next><block type="typescript_statement" id="^Q]@Y;(U-[XAn+BYF+bb" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="function gua(six_yao: number[], active_yao = 0) {" line1="    // 检查输入数组是否有效" line2="    if (!(Array.isArray(six_yao)) || six_yao.length != 6 || !(six_yao.every(bit =&gt; bit === 0 || bit === 1))) {" line3="        console.log(&quot;Invalid input. Please provide an array of 6 binary digits (0 or 1).&quot;);" line4="        return" line5="    }" line6="    let right_x = active_yao &lt;= 3 ? 2 : 3;" line7="    // 在micro:bit上显示六爻" line8="    for (let j = 0; j &lt; six_yao.length; j++) {" line9="        if (j &lt;= 2) {" line10="            let y = 2 * j" line11="            if (six_yao[j] == 1) {" line12="                led.plot(0, y)" line13="            } else {" line14="                led.plot(1, y)" line15="                led.plot(0, y)" line16="            }" line17="        } else {" line18="            let y2 = 2 * (j - 3)" line19="            if (six_yao[j] == 1) {" line20="                led.plot(right_x, y2)" line21="            } else {" line22="                led.plot(right_x, y2)" line23="                led.plot(right_x + 1, y2)" line24="            }" line25="        }" line26="    }" line27="    drawActiveYao(active_yao)" line28="    return " line29="}" numlines="30"></mutation></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="pP2Zc|DshqnRbP9?]Q3$" x="1045" y="0"></block><block type="device_gesture_event" id="A``bwvB%.pLRsC]%,vNJ" x="1250" y="0"><field name="NAME">Gesture.Shake</field><statement name="HANDLER"><block type="device_clear_display" id="@^JDVemWR,^7Y[dPcvs*"><next><block type="variables_set" id="ccNMlmSMWn:IUy)DXIlg"><field name="VAR" id="[eBneN,HAfqvZMWHmU[P">six_yao</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="HqX_fV%V30x44V;^0/c|"><mutation items="0" horizontalafter="3"></mutation></block></value><next><block type="controls_repeat_ext" id="!MPhY`058F:{j=?|+E(A"><value name="TIMES"><shadow type="math_whole_number" id="5MRi{7..^CQisotlhqmw"><field name="NUM">6</field></shadow></value><statement name="DO"><block type="array_push" id="*`,{X[{j1LB*F5r8oY^:"><value name="list"><block type="variables_get" id="DAbQ(76g9j+ZcSeRqGY3"><field name="VAR" id="[eBneN,HAfqvZMWHmU[P">six_yao</field></block></value><value name="value"><block type="function_call_output" id="w]m[rV`kHykUcI5+@jp|"><mutation name="getRandomBinary" functionid="t`@o`Y;~LO+$|zGUV%z_"></mutation></block></value></block></statement><next><block type="variables_set" id="OH,HR0+V#mn75P~~{MR2"><field name="VAR" id="nU^=gLSx,6LU_cgb+fWH">active_yao</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="5p4Oy96(LN7}cO%ELYj`"><mutation name="getRandomInt" functionid="zO_Dg$kpBSITauj;Y8+Z"><arg name="min" id="shji1j4bk125bsbd4fc8" type="number"></arg><arg name="max" id="v01wggaeklwis3p9aj2m" type="number"></arg></mutation><value name="shji1j4bk125bsbd4fc8"><shadow type="math_number" id="0CBWq6qhog$ye+xECS/x"><field name="NUM">1</field></shadow></value><value name="v01wggaeklwis3p9aj2m"><shadow type="math_number" id="T^I6@|^@r3z?)|0S9:.V"><field name="NUM">6</field></shadow></value></block></value><next><block type="typescript_statement" id="/p+A_-cg*dK{O08*itSK" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="gua(six_yao, active_yao)" numlines="1"></mutation><next><block type="typescript_statement" id="[^id?Hc}+G6C8;T72-A9" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="console.log(six_yao)" numlines="1"></mutation><next><block type="typescript_statement" id="p_S-K,E#Cjp2Aub/UU*N" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="console.log(active_yao)" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="r%VQ/5TZ`=#5T5^V,(sV" x="1852" y="0"><mutation name="drawActiveYao" functionid="qiP7,giX017mAE{40-V]"><arg name="yao" id="1g6dyb1taoioqmxq4onvo" type="number"></arg></mutation><field name="function_name">drawActiveYao</field><statement name="STACK"><block type="typescript_statement" id="0J}71#nt@7?#H$kC)!I^" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let active_x = active_yao &lt;= 3 ? 4 : 2" numlines="1" declaredvars="active_x"></mutation><next><block type="typescript_statement" id="$VYV]kN~hJnU[;/Vu2!p" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="switch (active_yao) {" line1="        case 1:" line2="        case 4:" line3="            active_y = 2" line4="            break;" line5="        case 2:" line6="        case 5:" line7="            active_y = 1" line8="            break;" line9="        default:" line10="            active_y = 0" line11="            break" line12="    }" numlines="13"></mutation><next><block type="device_plot" id="zwjQooZcF^HT7W[^_Il*"><value name="x"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="4(-!Dt0+0P7y+vA|w{!b"><field name="VAR" id="5vNybA#O4Z=iV-WcFGnq">active_x</field></block></value><value name="y"><shadow type="math_number_minmax"><mutation min="0" max="4"></mutation><field name="SLIDER">0</field></shadow><block type="math_arithmetic" id="1xCT740zR^G)=H^.^lz8"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=",Zah3V?MrXf8b:}MjQHr"><field name="VAR" id="7u82G([3WTC8IYcgSgI*">active_y</field></block></value><value name="B"><shadow type="math_number" id="|tDD@l,k0~28{1YxrO%9"><field name="NUM">2</field></shadow></value></block></value></block></next></block></next></block></statement></block><block type="function_definition" id="8NEoJg@n^qP|NcY)4yU0" x="2357" y="0"><mutation name="getRandomBinary" functionid="t`@o`Y;~LO+$|zGUV%z_"></mutation><field name="function_name">getRandomBinary</field><statement name="STACK"><block type="function_return" id=",6~6c}fqZu.u{#ZR_o2q"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><comment pinned="false" h="80" w="160">Math.random() 生成 [0, 1) 之间的浮点数
Math.round() 将浮点数四舍五入为最接近的整数，得到 0 或 1</comment><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="ou]!J4YIVD`?;/gw3x`c"><field name="OP">round</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="$FK62]-#[zqy-hT7b6aV" editable="false"><field name="EXPRESSION">Math.random()</field></block></value></block></value></block></statement></block><block type="function_definition" id="|Vq8.P,7k!RA:p~oeiAi" x="0" y="1477"><mutation name="getRandomInt" functionid="zO_Dg$kpBSITauj;Y8+Z"><arg name="min" id="shji1j4bk125bsbd4fc8" type="number"></arg><arg name="max" id="v01wggaeklwis3p9aj2m" type="number"></arg></mutation><field name="function_name">getRandomInt</field><statement name="STACK"><block type="function_return" id="1|guQOq_)*MrH:L=Jf^a"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><comment pinned="false" h="80" w="160">Math.random() 生成 [0, 1) 之间的浮点数
将其乘以 (max - min) 来得到 [0, max - min) 之间的浮点数
再加上 min，得到 [min, max) 之间的浮点数
最后使用 Math.floor() 向下取整，得到整数</comment><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="P,`VweO=H!g,0U5m/%aB"><field name="OP">floor</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="prVNPG|}n[?1/X5F~ySN"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="M@[-E6MQQ,p-VC2.A!Zu"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="E95qL6g9=_a,Og[mdihz" editable="false"><field name="EXPRESSION">Math.random()</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="{Y8T^pQX7Skko}SYUt/O"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Z=+FR3m@OjM1%@qKBZ_y"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id=";{xwU!B+7(6$~:h*vymq"><field name="VALUE">max</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="@!huS.6CN5A;;]8-6J,0"><field name="VALUE">min</field></block></value></block></value><value name="B"><shadow type="math_number" id="G6p.u#se$49ca5djD8Cn"><field name="NUM">1</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="2!Zj|g:)pS6OIY65:@|B"><field name="VALUE">min</field></block></value></block></value></block></value></block></statement></block></xml>